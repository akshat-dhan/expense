<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- 📱 PWA MANIFEST -->
    <link rel="manifest" href="/manifest.json">

    <!-- 🍎 iOS SPECIFIC -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Backpack Optimizer">
    <link rel="apple-touch-icon" href="/icons/icon-192.png">
    <link rel="apple-touch-startup-image" href="/icons/icon-512.png">

    <!-- 🤖 ANDROID/CHROME -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#007AFF">

    <!-- 🪟 WINDOWS -->
    <meta name="msapplication-TileColor" content="#007AFF">
    <meta name="msapplication-TileImage" content="/icons/icon-192.png">

    <!-- 🔍 SEO & SOCIAL -->
    <meta name="application-name" content="Backpack Optimizer">
    <meta name="description" content="AI-powered financial management for Indian students">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Backpack Optimizer - Smart Wishboard</title>
    
    <!-- External CSS -->
    <link rel="stylesheet" href="wishboard.css">
</head>
<body>
    <!-- 📱 FIXED MOBILE MENU TOGGLE BUTTON -->
    <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Toggle navigation menu">
        <div class="hamburger">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </button>

    <!-- 📱 MOBILE OVERLAY -->
    <div class="mobile-overlay" id="mobileOverlay"></div>

    <!-- Enhanced Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="logo">🎒 Backpack Optimizer</div>
            <div class="tagline">Smart Wishboard Platform</div>
        </div>
        
        <div class="user-profile">
            <div class="user-avatar" id="userAvatar">A</div>
            <div id="userName" style="font-size: 20px; font-weight: 800;">Loading...</div>
            <div id="userCampus" style="font-size: 14px; opacity: 0.9;">Loading...</div>
            <div style="font-size: 12px; margin-top: 8px; opacity: 0.8;" id="userRegNumber">Loading...</div>
            <div style="font-size: 13px; margin-top: 12px; background: rgba(255,255,255,0.2); padding: 8px 15px; border-radius: 12px;">🌟 Dream Achiever</div>
        </div>

        <ul class="nav-menu">
            <li class="nav-item">
                <a href="dashboard.html" class="nav-link">
                    <span class="nav-icon">📊</span>
                    <span>Dashboard</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="expenses.html" class="nav-link">
                    <span class="nav-icon">💸</span>
                    <span>My Expenses</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="add-expense.html" class="nav-link">
                    <span class="nav-icon">➕</span>
                    <span>Add Expense</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="wishboard.html" class="nav-link active">
                    <span class="nav-icon">⭐</span>
                    <span>Wishboard</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="marketplace.html" class="nav-link">
                    <span class="nav-icon">🛒</span>
                    <span>Marketplace</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="housing.html" class="nav-link">
                    <span class="nav-icon">🏠</span>
                    <span>Housing</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="analytics.html" class="nav-link">
                    <span class="nav-icon">📈</span>
                    <span>Analytics</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="profile.html" class="nav-link">
                    <span class="nav-icon">👤</span>
                    <span>Profile</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link" onclick="logout()">
                    <span class="nav-icon">🚪</span>
                    <span>Logout</span>
                </a>
            </li>
        </ul>
    </div>

    <!-- Enhanced Main Content -->
    <div class="main-content">
        <div class="page-header">
            <h1 class="page-title">Ultimate Wishboard</h1>
            <p class="page-subtitle">Transform dreams into reality with AI-powered financial planning</p>
            <div class="premium-badge">🏆 Smart Wishlist Platform</div>
        </div>

        <!-- Advanced Statistics Overview -->
        <div class="stats-overview">
            <div class="stat-card" style="background: linear-gradient(135deg, #667eea, #764ba2);">
                <span class="stat-icon">🎯</span>
                <div class="stat-value" id="totalWishes">0</div>
                <div class="stat-label">Active Goals</div>
            </div>
            <div class="stat-card" style="background: linear-gradient(135deg, #f093fb, #f5576c);">
                <span class="stat-icon">💰</span>
                <div class="stat-value" id="totalTargetAmount">₹0</div>
                <div class="stat-label">Total Dreams</div>
            </div>
            <div class="stat-card" style="background: linear-gradient(135deg, #4facfe, #00f2fe);">
                <span class="stat-icon">💎</span>
                <div class="stat-value" id="totalSavedAmount">₹0</div>
                <div class="stat-label">Total Saved</div>
            </div>
            <div class="stat-card" style="background: linear-gradient(135deg, #43e97b, #38f9d7);">
                <span class="stat-icon">📊</span>
                <div class="stat-value" id="averageProgress">0%</div>
                <div class="stat-label">Progress Rate</div>
            </div>
            <div class="stat-card" style="background: linear-gradient(135deg, #FFD700, #FFA500);">
                <span class="stat-icon">⚡</span>
                <div class="stat-value" id="monthsToComplete">0</div>
                <div class="stat-label">Avg Months</div>
            </div>
        </div>

        <!-- Enhanced Add New Wish Form -->
        <div class="card">
            <h3 style="margin-bottom: 25px; font-size: 24px; font-weight: 900;">✨ Create Your Dream Goal</h3>
            <form id="wishForm" onsubmit="addWish(event)">
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label" for="wishName">🎯 What's Your Dream?</label>
                        <input type="text" class="form-control" id="wishName" placeholder="e.g., MacBook Pro, iPhone 15, Gaming Setup, Europe Trip" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="wishAmount">💰 Dream Price (₹)</label>
                        <input type="number" class="form-control" id="wishAmount" placeholder="0.00" step="0.01" required oninput="generateSmartSuggestions()">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label" for="wishDate">📅 Dream Date</label>
                        <input type="date" class="form-control" id="wishDate" onchange="generateSmartSuggestions()">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="wishPriority">⭐ How Important?</label>
                        <select class="form-control" id="wishPriority">
                            <option value="low">🟢 Low Priority - Someday</option>
                            <option value="medium" selected>🟡 Medium Priority - Important</option>
                            <option value="high">🔴 High Priority - Urgent Need</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label" for="wishCategory">📂 Dream Category</label>
                        <select class="form-control" id="wishCategory">
                            <option value="electronics">📱 Electronics & Tech</option>
                            <option value="travel">✈️ Travel & Adventure</option>
                            <option value="education">📚 Education & Skills</option>
                            <option value="fashion">👕 Fashion & Style</option>
                            <option value="health">🏥 Health & Fitness</option>
                            <option value="vehicle">🚗 Vehicle & Transport</option>
                            <option value="entertainment">🎮 Entertainment & Gaming</option>
                            <option value="other">🌟 Other Dreams</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="wishSaved">💎 Already Saved (₹)</label>
                        <input type="number" class="form-control" id="wishSaved" placeholder="0.00" step="0.01" min="0" value="0" oninput="generateSmartSuggestions()">
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label" for="wishDescription">📝 Why This Dream Matters?</label>
                    <textarea class="form-control" id="wishDescription" rows="3" placeholder="Tell us why this goal is important to you and how it will change your life..."></textarea>
                </div>

                <!-- Real-time Smart Suggestions -->
                <div id="smartSuggestions" class="smart-suggestions" style="display: none;">
                    <div class="suggestion-header">
                        <div class="ai-brain">🧠</div>
                        <div>
                            <h4 style="margin: 0; font-weight: 900; color: var(--primary-blue);">AI Smart Savings Calculator</h4>
                            <p style="margin: 0; color: var(--system-gray); font-size: 14px;">Personalized plan to achieve your dream</p>
                        </div>
                    </div>
                    <div id="suggestionContent" class="suggestion-content"></div>
                </div>

                <button type="submit" class="btn btn-success" style="padding: 20px 40px; font-size: 18px;">
                    Add Dream to Wishboard
                </button>
            </form>
        </div>

        <!-- Enhanced Dream Goals Display -->
        <div class="card">
            <h3 style="margin-bottom: 25px; font-size: 24px; font-weight: 900;">🌟 Your Dream Goals & AI Insights</h3>
            <div class="wishlist-grid" id="wishlistGrid">
                <!-- Dreams will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- External JavaScript -->
    <script src="wishboard.js"></script>
</body>
</html>
